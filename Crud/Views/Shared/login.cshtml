
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Login</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="keywords" content="Elite login Form a Responsive Web Template, Bootstrap Web Templates, Flat Web Templates, Android Compatible Web Template, Smartphone Compatible Web Template, Free Webdesigns for Nokia, Samsung, LG, Sony Ericsson, Motorola Web Design">
    <script>
		addEventListener("load", function () {
			setTimeout(hideURLbar, 0);
		}, false);

		function hideURLbar() {
			window.scrollTo(0, 1);
		}
    </script>
    <!-- //Meta-Tags -->
    <!-- Stylesheets -->
    <link href="~/Usertemp/css/font-awesome.css" rel="stylesheet">
    <link href="~/Usertemp/css/style.css" rel='stylesheet' type='text/css' />
    <!--// Stylesheets -->
    <!--fonts-->
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,200i,300,300i,400,400i,600,600i,700,700i,900,900i" rel="stylesheet">
    <!--//fonts-->
</head>
<body>
    <h1>Challenge Authentification </h1>
    <div class="w3ls-login">
        <!-- form starts here -->
        <form action="#" method="post">
            <div class="agile-field-txt">
                <label>
                    <i class="fa fa-envelope-o" aria-hidden="true"></i> Email :
                </label>
                <input type="text" name="Email" placeholder=" " id="Email" required="" />

            </div>
            <div class="agile-field-txt">
                <label>
                    <i class="fa fa-lock" aria-hidden="true"></i> password :
                </label>
                <a href="#" class="w3ls-right">forgot password?</a>
                <input type="password" name="password" placeholder=" " required="" id="pass" />

                <div class="agile_label">
                    <input id="check3" name="check3" type="checkbox" value="show password" onclick="myFunction()">
                    <label class="check" for="check3">Show password</label>
                </div>
            </div>

            <!-- //script for show password -->
            <div class="w3ls-login  w3l-sub">
                <input type="button" value="Login" id="BtnLogin">
            </div>
        </form>
    </div>
    <!-- //form ends here -->
    <!--copyright-->
    <div class="copy-wthree">
        <p>
            Universite centrale
            <a href="http://w3layouts.com/" target="_blank">W3layouts</a>
        </p>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <!-- Sweet Alert -->
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        $(document).on('keypress', function (e) {
            if(e.which == 13) {

                var Email = $("#Email").val();
                var pass = $("#pass").val();
                console.log("login", Login, "pass", pass);
                $.ajax({
                    dataType: "json",
                    type: "POST",
                    url:  "@Url.Action("login", "Shared")",
                    data: { Email, pass },
                    success: function (data) {
                        console.log("data", data);
                        if (data == "Admin") {

                            location.href = "/Admin/index";

                        } else if (data == "User") {

                            location.href = "/User/index";
                        }
                        else if (data == "Manager") {


                            location.href = "/Manager/index";
                        }
                        else if (data == "RH") {


                            location.href = "/RH/index";
                        }
                        else if (data == "Mot De Passe Incorrecte") {

                            Swal.fire({
                                showCloseButton: true,
                                title: "Attention!",
                                text: "Mot De Passe Incorrecte",
                                icon: "warning",
                                confirmButtonColor: '#3085d6',
                                button: "OK",
                                dangerMode: true
                            })
                        }
                        else if (data == "Utilisateur Invalide") {

                            Swal.fire({
                                showCloseButton: true,
                                title: "Attention!",
                                text: "Utilisateur Invalide",
                                icon: "warning",
                                confirmButtonColor: '#3085d6',
                                button: "OK",
                                dangerMode: true
                            })
                        }
                    }
                });
            }
        });
        $("#BtnLogin").click(function () {

            var Email = $("#Email").val();
            var pass = $("#pass").val();
            console.log("Email", Email, "pass", pass);
                $.ajax({
                    dataType: "json",
                    type: "POST",
                    url:  "@Url.Action("login", "Shared")",
                    data: { Email, pass },
                    success: function (data) {
                        console.log("data", data);
                        if (data == "Admin") {

                            location.href = "/Admin/index";

                        } else if (data == "User") {

                            location.href = "/User/index";
                        }
                        else if (data == "Manager") {


                            location.href = "/Manager/index";
                        }
                        else if (data == "RH") {


                            location.href = "/RH/index";
                        }
                        else if (data == "Mot De Passe Incorrecte") {

                            Swal.fire({
                                showCloseButton: true,
                                title: "Attention!",
                                text: "Mot De Passe Incorrecte",
                                icon: "warning",
                                confirmButtonColor: '#3085d6',
                                button: "OK",
                                dangerMode: true
                            })
                        }
                        else if (data == "Utilisateur Invalide") {

                            Swal.fire({
                                showCloseButton: true,
                                title: "Attention!",
                                text: "Utilisateur Invalide",
                                icon: "warning",
                                confirmButtonColor: '#3085d6',
                                button: "OK",
                                dangerMode: true
                            })
                        }
                    }
                });
        });
    </script>
</body>
</html>

